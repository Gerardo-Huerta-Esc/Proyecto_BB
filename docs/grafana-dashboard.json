{
  "uid": "payments-postgres",
  "title": "Payments - Postgres Overview",
  "tags": ["payments", "postgres", "prometheus"],
  "timezone": "browser",
  "schemaVersion": 39,
  "version": 1,
  "refresh": "10s",
  "time": { "from": "now-15m", "to": "now" },
  "panels": [
    {
      "type": "stat",
      "title": "Postgres up",
      "id": 1,
      "gridPos": { "x": 0, "y": 0, "w": 6, "h": 4 },
      "targets": [{ "refId": "A", "expr": "max(pg_up)", "legendFormat": "pg_up" }]
    },
    {
      "type": "stat",
      "title": "DB size (payments)",
      "id": 2,
      "gridPos": { "x": 6, "y": 0, "w": 6, "h": 4 },
      "targets": [{ "refId": "A", "expr": "pg_database_size_bytes{datname=\"payments\"}", "legendFormat": "payments" }]
    },
    {
      "type": "stat",
      "title": "Active connections (payments)",
      "id": 3,
      "gridPos": { "x": 12, "y": 0, "w": 6, "h": 4 },
      "targets": [{ "refId": "A", "expr": "sum(pg_stat_database_numbackends{datname=\"payments\"})", "legendFormat": "numbackends" }]
    }
  ],
  "annotations": { "list": [] }
}
